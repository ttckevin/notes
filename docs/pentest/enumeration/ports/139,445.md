## Server Message Block (SMB)

List shares
```
smbclient -L \\\\<TARGET_IP>\\
smbmap -H <TARGET_IP> -u "anonymous"
nxc smb <TARGET_IP> -u '' -p '' --shares
nxc smb <TARGET_IP> -u '' -p '' -M spider_plus
enum4linux -a -u "" -p "" <TARGET_IP> && enum4linux -a -u "guest" -p "" <TARGET_IP>
```

Access share
```
smbclient \\\\<TARGET_IP>\\<SHARE>
```

Download files
```
recurse ON
prompt OFF
mget *
```

Generate `krb5.conf` file
```
nxc smb <TARGET_IP> -u <USER> -p <PASSWORD> --generate-krb5-file <KRB5_FILE>
nxc smb 10.10.11.76 -u ryan.naylor -p 'HollowOct31Nyt' --generate-krb5-file voleur.krb
```

Common Shares
```
C$,D$,IPC$
ADMIN$  
PRINT$ 
FAX$ 
SYSVOL 
NETLOGON
```